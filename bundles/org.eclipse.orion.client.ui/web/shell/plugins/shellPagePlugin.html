<!DOCTYPE html>
<html>
<head>
	<meta name="copyright" content="Copyright (c) IBM Corporation and others 2012." >
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script src="../../orion/plugin.js"></script>
	<script type="text/javascript">
		/*global window orion */
		window.onload = function() {
			var headers = {
				name: "Orion Shell Page Service",
				version: "1.0",
				description: "This plugin integrates access to Orion's Shell page into other Orion pages."
			};

			var provider = new orion.PluginProvider(headers);
			provider.registerService("orion.navigate.command", {}, {
				nameKey: "Open in Shell",
				id: "eclipse.shell.open",
				tooltipKey: "Open in Shell page",
				nls: "orion/shell/nls/messages",
				validationProperties: [{
					source: "ChildrenLocation|ContentLocation",
					variableName: "ShellLocation",
					replacements: [{pattern: "\\?depth=1$", replacement: ""}] 
				}],
				uriTemplate: "{OrionHome}/shell/shellPage.html#{ShellLocation}",
				forceSingleItem: true
			});
			provider.registerService("orion.page.link.related", null, {
				id: "eclipse.shell.open"
			});
			provider.registerService("orion.page.link.related", null, {
				nameKey: "Open in Shell",
				id: "eclipse.shell.open",
				tooltipKey: "Open in Shell page",
				nls: "orion/shell/nls/messages",
				validationProperties: [{
					source: "NoTarget"
				}],
				uriTemplate: "{OrionHome}/shell/shellPage.html#",
				forceSingleItem: true
			});
		
			provider.connect();
		};
		</script>
</head>
<body>
</body>
</html>
