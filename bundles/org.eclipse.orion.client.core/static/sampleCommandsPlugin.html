<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script type="text/javascript" src="/openajax/release/all/OpenAjaxManagedHub-all.js"></script>
	<script type="text/javascript" src="/js/plugin.js"></script>
	<script>
		window.onload = function() {
			var provider = new eclipse.PluginProvider();
			provider.registerServiceProvider("fileCommands", {
				info : function() {
					return {
						name : "Sample file commands",
						displayName: true,
						prefix : "sample.commands",
						commands: [
							{
								type: "tree",
								image: "/profile/images/create_user.gif",
								name: "Sample1Command",
								id: "sample1",
								tooltip: "Sample1 tooltip",
								index: 1
							},
							{
								type: "toolbar",
								image: "/profile/images/create_user.gif",
								name: "Sample2Command",
								id: "sample2",
								tooltip: "Sample2 tooltip",
								index: 2
							},
							{
								type: "both",
								image: "/profile/images/create_user.gif",
								name: "Sample3Command",
								id: "sample3",
								tooltip: "Sample3 tooltip",
								index: 3
							}
						]
					};
				},
				run : function(commandId, items) {
					alert(commandId + ": " + this._forceSingleItem(items).Location);
				},
				_forceSingleItem: function(item) {
					if (item.constructor == Array) {
						if (item.length > 1) {
							item = {};
						} else {
							item = item[0];
						}
					}
					return item;
				}
			});
			provider.connect();
		};
	</script>
</head>
<body>
</body>
</html>