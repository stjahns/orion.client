<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script type="text/javascript" src="/openajax/release/all/OpenAjaxManagedHub-all.js"></script>
	<script type="text/javascript" src="../js/plugin.js"></script>
	<script>
		window.onload = function() {
			var provider = new eclipse.PluginProvider();
			provider.registerServiceProvider("fileCommands", {
				info : function() {
					return {
						image: "/profile/images/create_user.gif",
						name: "Run Code on Single Item",
						id: "sample.commands.sample1",
						forceSingleItem: true,
						tooltip: "Run plugin code only on single file/dir"
					};
				},
				run : function(item) {
					window.alert("Running code on: " + item.Location);
				}
			});
			provider.registerServiceProvider("fileCommands", {
				info : function() {
					return {
						image: "/profile/images/create_user.gif",
						name: "Open HTML Raw",
						id: "sample.commands.sample2",
						forceSingleItem: true,
						href: true,
						validationProperties: {"Name":"*.html"},
						tooltip: "Link to raw html on server"
					};
				},
				run : function(item) {
					return item.Location;
				}
			});
			
			provider.registerServiceProvider("fileCommands", {
				info : function() {
					return {
						image: "/profile/images/create_user.gif",
						name: "Bulk Item Command",
						id: "sample.commands.sample3",
						tooltip: "Bulk command operates on selections"
					};
				},
				run : function(items) {
					var locations = [];
					for (var i = 0; i<items.length; i++) {
						locations.push(items[i].Location);
					}
					window.alert("Bulk operation on: " + locations);
				}
			});
				
			provider.connect();
		};
	</script>
</head>
<body>
</body>
</html>